<div class="basket-container">
  <h2>Din Kurv</h2>
  <div *ngIf="basketItems.length === 0">
    Din kurv er tom.
  </div>

  <div *ngFor="let basketItem of basketItems" class="basket-item">
    <div class="item-details">
      <!-- Visning for SalesItem -->
      <ng-container *ngIf="isSalesItem(basketItem.item)">
        <img [src]="getFullImagePath(basketItem.item.imageUrl)" alt="{{ basketItem.item.name }}">
        <div class="item-info">
          <h3>{{ basketItem.item.name }}</h3>
          <p>Mængde: {{ basketItem.quantity }}</p>
          <p>Pris: {{ basketItem.totalPrice | currency }}</p>
        </div>
      </ng-container>

      <!-- Visning for SalesItemComposition -->
      <ng-container *ngIf="isSalesItemComposition(basketItem.item)">
        <img [src]="getFullImagePath(basketItem.item.parentItem?.imageUrl)" alt="{{ basketItem.item.parentItem?.name }}">
        <div class="item-info">
          <h3>{{ basketItem.item.parentItem?.name }}</h3>
          <p>Mængde: {{ basketItem.quantity }}</p>
          <p>Pris: {{ basketItem.totalPrice | currency }}</p>
        </div>
      </ng-container>
    </div>

    <div *ngIf="basketItem.customizations" class="customizations">
      <h4>Tilpasninger:</h4>
      <ul>
        <li *ngFor="let customization of basketItem.customizations">
          {{ customization.ingredient?.name }} ({{ customization.count }})

          <!-- Kun for SalesItem -->
          <ng-container *ngIf="isSalesItem(basketItem.item)">
            <button (click)="addIngredient(basketItem.item.id, customization.ingredientId)">+</button>
            <button (click)="removeIngredient(basketItem.item.id, customization.ingredientId)">-</button>
          </ng-container>
        </li>
      </ul>
    </div>

    <button (click)="onSelectItem(basketItem)">Rediger</button>
  </div>

  <div class="total-price">
    <p>Total Pris: {{ getTotalPrice() | currency }}</p>
    <button (click)="clearBasket()">Tøm Kurv</button>
  </div>
</div>
